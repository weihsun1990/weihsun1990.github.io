(function(){"use strict";var t={9242:function(t,e,n){var o=n(7195),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],s={name:"App"},a=s,l=n(1001),c=(0,l.Z)(a,i,r,!1,null,null,null),p=c.exports,d=n(2241),u=function(){var t=this,e=t._self._c;return e("div",[t.linkContent?t._e():e("div",{staticClass:"note"},[t._v(" 在 "+t._s(t.localUrl)+" 後輸入任意字串，產生 link： ")]),t.linkContent?t._e():e("div",{staticClass:"note-link"},[t._v(" demo://test-link/${input_str} ")]),t.linkContent?e("div",{staticClass:"note-link"},[t._v(" "+t._s(`${t.schema}${t.linkContent}`)+" ")]):t._e()])},h=[],f=(n(6229),n(7330),n(2062),n(7658),n(1439),n(7585),n(5315),n(306)),g=t=>{const e=t?f.Z.create(t):f.Z.create();return e.interceptors.request.use((t=>t),(t=>Promise.reject(t))),e.interceptors.response.use((t=>t),(t=>Promise.reject(t))),e},m=n(4605),w=n.n(m),v=(()=>({get(){let t=new(w()),e=t.getResult();return e}}))();const k=(()=>{function t(t,e){const n=document.createElement("canvas"),o=n.getContext("2d");o.font=e;const i=o.measureText(t);return i.width}return{getFonts(){const e=[],n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(let o=0;o<n.length;o++){let i=n[o]+" font",r=t(n[o],i);e.push({font:i,width:r})}return e},getLanguage(){return navigator.language||navigator.userLanguage},getScreenSize(){return{width:window.screen.width,height:window.screen.height}}}})(),b=g(),y=()=>b.get("https://api.ipify.org?format=json").then((t=>t.data.ip));var A=(()=>({get(){return Promise.all([y()]).then((t=>{const e=t[0];let n={};e&&(n.ip=e);const o=v.get();return o.language=k.getLanguage(),o.screenSize=k.getScreenSize(),n={...o,...n},n})).catch((t=>{console.error(t)}))},toSHA256(t){const e=(new TextEncoder).encode(JSON.stringify(t));return window.crypto.subtle.digest("SHA-256",e).then((t=>{const e=Array.from(new Uint8Array(t)),n=e.map((t=>t.toString(16).padStart(2,"0"))).join("");return n}))},platform(){const t=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)?"ios":/android/.test(t)?"android":"web"},testFilter(t){const e={};return t.os&&t.os.name&&(e.os={name:t.os.name}),e}}))(),_={name:"Link",data(){return{schema:"demo://test-link/",linkContent:"",localUrl:""}},created(){const t=new URL(window.location.href);this.localUrl=`${t.protocol}//${t.host}/#/link/`,this.linkContent=`${window.location.href}`.replace(this.localUrl,""),this.linkContent&&(window.onload=()=>{this.toAppLink()})},methods:{toAppLink(){let t="",e=2e3;A.platform();"ios"===this.platform?(t="https://apps.apple.com/tw/app/國泰人壽/id432046643",e*=2):"android"===this.platform&&(t="https://play.google.com/store/apps/details?id=com.cathay.main&hl=zh_TW&gl=US"),window.location=`${this.schema}${this.linkContent}`,t&&setTimeout((function(){window.location=t}),e)}}},S=_,C=(0,l.Z)(S,u,h,!1,null,"52de8bc2",null),L=C.exports,O=function(){var t=this,e=t._self._c;return e("div",[t.message?e("span",[t._v(t._s(t.message))]):t._e()])},x=[],F={name:"Access",data(){return{platform:"",linkContent:"",message:""}},created(){this.platform=A.platform()},mounted(){let t={},e="";A.get().then((e=>(t=A.testFilter(e),A.toSHA256(t)))).then((t=>{e=t,this.message=e;const n=this.mockDbQuery(this.message);this.toAppScript(n)}))},methods:{toAppScript(t){"ios"===this.platform&&window.webkit&&window.webkit.messageHandler.getAppLink.postMessage(t),"android"===this.platform&&window.Android&&window.Android.getAppLink(t)},mockDbQuery(t){const e={"3e23e182f6610757be5a6fdb81ed150362a573f13ca3a22c79f19ac50b3ae3c2":"/pageA","1b1bbc2aa37f17be15edbe657b3657b0f9912cec509ac922a3ddeeb1445d8ef4":"/pageB"};return e[t]||""}}},P=F,Z=(0,l.Z)(P,O,x,!1,null,null,null),T=Z.exports,j=function(){var t=this,e=t._self._c;return e("div",[t.message?e("span",[t._v(t._s(t.message))]):t._e()])},z=[],$={name:"Agent",data(){return{platform:"",linkContent:"",message:""}},created(){this.platform=A.platform()},mounted(){let t={},e="";A.get().then((e=>(t=A.testFilter(e),A.toSHA256(t)))).then((n=>{e=n,this.message=JSON.stringify({agent:t,hash:e}),this.toAppScript(this.message)}))},methods:{toAppScript(t){const e=t||"EMPTY";"ios"===this.platform&&window.webkit&&window.webkit.messageHandler.getAppLink.postMessage(e),"android"===this.platform&&window.Android&&window.Android.getAppLink(e)}}},H=$,U=(0,l.Z)(H,j,z,!1,null,null,null),B=U.exports,D=function(){var t=this,e=t._self._c;return e("div",[t.display?e("div",[t._v(t._s(t.display))]):t._e(),e("br"),e("button",{attrs:{type:"button"},on:{click:t.showHash}},[t._v("Show hash")]),e("button",{attrs:{type:"button"},on:{click:t.showAll}},[t._v("Show all")]),e("button",{attrs:{type:"button"},on:{click:t.showFilter}},[t._v("Show filter")])])},R=[],E={name:"Fingerprint",data(){return{fpid:"",fpc:[],display:""}},created(){},mounted(){window.requestIdleCallback?requestIdleCallback((()=>{this.doPrompt()})):setTimeout((()=>{this.doPrompt()}),500)},methods:{doPrompt(){Fingerprint2.get((t=>{this.fpc=t.filter((t=>!["canvas","webgl"].some((e=>e===t.key))));const e=this.filterFpc.map((t=>t.value));this.fpid=Fingerprint2.x64hash128(e.join(""),31),this.toAppScript(JSON.stringify(this.fpid))}))},toAppScript(t){const e=A.platform();"ios"===e&&window.webkit&&window.webkit.messageHandler.getAppLink.postMessage(t),"android"===e&&window.Android&&window.Android.getAppLink(t)},showHash(){this.display=this.fpid},showAll(){this.display=JSON.stringify(this.fpc)},showFilter(){this.display=JSON.stringify(this.filterFpc)},mapping(t,e){const n=[];return t.forEach((t=>{const o=e.find((e=>e.key===t.key));o&&o.value===t.value&&n.push(t)})),n}},computed:{filterFpc(){const t=this.allFilter;return this.fpc.filter((e=>t.some((t=>t===e.key))))},iosFilter(){return["webdriver","language","hardwareConcurrency","timezoneOffset","timezone","sessionStorage","localStorage","indexedDb","addBehavior","cpuClass","platform","hasLiedLanguages","hasLiedResolution","hasLiedOs","hasLiedBrowser"]},androidFilter(){return["webdriver","colorDepth","hardwareConcurrency","timezoneOffset","timezone","sessionStorage","indexedDb","addBehavior","cpuClass","hasLiedLanguages","hasLiedResolution","hasLiedOs","hasLiedBrowser"]},allFilter(){return["webdriver","hardwareConcurrency","timezoneOffset","timezone","sessionStorage","indexedDb","addBehavior","cpuClass","hasLiedLanguages","hasLiedResolution","hasLiedOs","hasLiedBrowser"]}}},J=E,M=(0,l.Z)(J,D,R,!1,null,"05de8935",null),N=M.exports,q=[{path:"/"},{path:"/link/:param(.*)",name:"Param",component:L},{path:"/access",name:"Access",component:T},{path:"/agent",name:"Agent",component:B},{path:"/fingerprint",name:"Fingerprint",component:N}];o.ZP.prototype.$setCookie=function(t,e){const n=new Date;n.setTime(n.getTime()+864e5);let o="expires="+n.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"},o.ZP.prototype.$getCookie=function(t){let e=t+"=",n=decodeURIComponent(document.cookie),o=n.split(";");for(let i=0;i<o.length;i++){let t=o[i];while(" "==t.charAt(0))t=t.substring(1);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return""},o.ZP.config.productionTip=!1;const I=new d.ZP({mode:"hash",routes:q});o.ZP.use(d.ZP),new o.ZP({router:I,render:t=>t(p)}).$mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,o,i,r){if(!o){var s=1/0;for(p=0;p<t.length;p++){o=t[p][0],i=t[p][1],r=t[p][2];for(var a=!0,l=0;l<o.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(a=!1,r<s&&(s=r));if(a){t.splice(p--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var p=t.length;p>0&&t[p-1][2]>r;p--)t[p]=t[p-1];t[p]=[o,i,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,s=o[0],a=o[1],l=o[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var p=l(n)}for(e&&e(o);c<s.length;c++)r=s[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(p)},o=self["webpackChunkapp_link"]=self["webpackChunkapp_link"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9242)}));o=n.O(o)})();
//# sourceMappingURL=app.df584a5b.js.map