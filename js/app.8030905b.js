(function(){"use strict";var t={7711:function(t,e,n){var o=n(7195),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],s={name:"App"},a=s,c=n(1001),l=(0,c.Z)(a,i,r,!1,null,null,null),u=l.exports,p=n(2241),h=function(){var t=this,e=t._self._c;return e("div",[t.linkContent?t._e():e("div",{staticClass:"note"},[t._v(" 在 "+t._s(t.localUrl)+" 後輸入任意字串，產生 link： ")]),t.linkContent?t._e():e("div",{staticClass:"note-link"},[t._v(" demo://test-link/${input_str} ")]),e("div",{staticClass:"note-link"},[t._v(t._s(`${t.schema}${t.linkContent}`))])])},d=[],f=(n(6229),n(7330),n(2062),{name:"Link",data(){return{schema:"demo://test-link/",linkContent:"",localUrl:""}},created(){const t=new URL(window.location.href);this.localUrl=`${t.protocol}//${t.host}/#/link/`,this.linkContent=`${window.location.href}`.replace(this.localUrl,""),this.linkContent&&(window.onload=()=>{this.toAppLink()})},methods:{toAppLink(){let t="",e=2e3;const n=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(n)?(t="https://apps.apple.com/tw/app/國泰人壽/id432046643",e*=2):/android/.test(n)&&(t="https://play.google.com/store/apps/details?id=com.cathay.main&hl=zh_TW&gl=US"),this.$setCookie("link",`/${this.linkContent}`),window.location=`${this.schema}${this.linkContent}`,t&&setTimeout((function(){window.location=t}),e)}}}),g=f,m=(0,c.Z)(g,h,d,!1,null,"5f5b2826",null),w=m.exports,k=function(){var t=this,e=t._self._c;return e("div",[t.message?e("span",[t._v(t._s(t.message))]):t._e()])},v=[],C=(n(7658),n(1439),n(7585),n(5315),n(306)),A={name:"Access",data(){return{platform:"",linkContent:"",message:""}},created(){const t=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(t)?this.platform="IOS":/android/.test(t)?this.platform="Android":this.platform="Web"},mounted(){this.linkContent=this.$getCookie("link"),this.linkContent||(this.linkContent="no cookie"),"IOS"===this.platform&&window.webkit&&window.webkit.messageHandler.getAppLink.postMessage(this.linkContent),"Android"===this.platform&&window.Android&&window.Android.getAppLink(this.linkContent),this.getIpAddress().then((t=>{const e={screenSize:this.getScreenSize(),platform:this.platform,language:this.getLanguage(),cookie:decodeURIComponent(document.cookie),ip:t};this.createBrowserFingerprint(e).then((t=>{this.message=t}))})).catch((t=>{console.error("Error getting IP: ",t)}))},methods:{getTimeStamp(){return new Date},getUserAgent(){return window.navigator.userAgent},getScreenSize(){return{width:window.screen.width,height:window.screen.height}},getLanguage(){return navigator.language||navigator.userLanguage},getFonts(){const t=[];var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(let n=0;n<e.length;n++){let o=e[n]+" font",i=this.measureTextWidth(e[n],o);t.push({font:o,width:i})}return t},async getIpAddress(){try{const t=await C.Z.get("https://api.ipify.org?format=json");return t.data.ip}catch(t){throw console.error("Error: ",t),t}},measureTextWidth(t,e){const n=document.createElement("canvas"),o=n.getContext("2d");o.font=e;const i=o.measureText(t);return i.width},async createBrowserFingerprint(t){const e=JSON.stringify(t),n=(new TextEncoder).encode(e),o=await window.crypto.subtle.digest("SHA-256",n),i=Array.from(new Uint8Array(o)),r=i.map((t=>t.toString(16).padStart(2,"0"))).join("");return r}}},_=A,b=(0,c.Z)(_,k,v,!1,null,null,null),y=b.exports;const x=[{path:"/",name:"Link",component:w},{path:"/:param(.*)",name:"Param",component:w}],O=[{path:"/",name:"Access",component:y}];new p.ZP({mode:"hash",routes:x}),new p.ZP({mode:"hash",routes:O});o.ZP.prototype.$setCookie=function(t,e){const n=new Date;n.setTime(n.getTime()+864e5);let o="expires="+n.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"},o.ZP.prototype.$getCookie=function(t){let e=t+"=",n=decodeURIComponent(document.cookie),o=n.split(";");for(let i=0;i<o.length;i++){let t=o[i];while(" "==t.charAt(0))t=t.substring(1);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return""},o.ZP.config.productionTip=!1;const P=new p.ZP({mode:"hash",routes:[{path:"/"},{path:"/link/:param(.*)",name:"Param",component:w},{path:"/access",name:"Access",component:y}]});o.ZP.use(p.ZP),new o.ZP({router:P,render:t=>t(u)}).$mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,r){if(!o){var s=1/0;for(u=0;u<t.length;u++){o=t[u][0],i=t[u][1],r=t[u][2];for(var a=!0,c=0;c<o.length;c++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(a=!1,r<s&&(s=r));if(a){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[o,i,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,s=o[0],a=o[1],c=o[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)var u=c(n)}for(e&&e(o);l<s.length;l++)r=s[l],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},o=self["webpackChunkapp_link"]=self["webpackChunkapp_link"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(7711)}));o=n.O(o)})();
//# sourceMappingURL=app.8030905b.js.map