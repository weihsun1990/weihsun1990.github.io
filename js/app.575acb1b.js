(function(){"use strict";var e={6729:function(e,t,n){var i=n(7195),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],s={name:"App"},a=s,l=n(1001),c=(0,l.Z)(a,o,r,!1,null,null,null),p=c.exports,d=n(2241),u=function(){var e=this,t=e._self._c;return t("div",[e.linkContent?e._e():t("div",{staticClass:"note"},[e._v(" 在 "+e._s(e.localUrl)+" 後輸入任意字串，產生 link： ")]),e.linkContent?e._e():t("div",{staticClass:"note-link"},[e._v(" demo://test-link/${input_str} ")]),e.linkContent?t("div",{staticClass:"note-link"},[e._v(" "+e._s(`${e.schema}${e.linkContent}`)+" ")]):e._e()])},h=[],f=(n(6229),n(7330),n(2062),n(7658),n(1439),n(7585),n(5315),n(306)),g=e=>{const t=e?f.Z.create(e):f.Z.create();return t.interceptors.request.use((e=>e),(e=>Promise.reject(e))),t.interceptors.response.use((e=>e),(e=>Promise.reject(e))),t},m=n(4605),w=n.n(m),v=(()=>({get(){let e=new(w()),t=e.getResult();return t}}))();const k=(()=>{function e(e,t){const n=document.createElement("canvas"),i=n.getContext("2d");i.font=t;const o=i.measureText(e);return o.width}return{getFonts(){const t=[],n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(let i=0;i<n.length;i++){let o=n[i]+" font",r=e(n[i],o);t.push({font:o,width:r})}return t},getLanguage(){return navigator.language||navigator.userLanguage},getScreenSize(){return{width:window.screen.width,height:window.screen.height}}}})(),b=g(),y=()=>b.get("https://api.ipify.org?format=json").then((e=>e.data.ip));var A=(()=>({get(){return Promise.all([y()]).then((e=>{const t=e[0];let n={};t&&(n.ip=t);const i=v.get();return i.language=k.getLanguage(),i.screenSize=k.getScreenSize(),n={...i,...n},n})).catch((e=>{console.error(e)}))},toSHA256(e){const t=(new TextEncoder).encode(JSON.stringify(e));return window.crypto.subtle.digest("SHA-256",t).then((e=>{const t=Array.from(new Uint8Array(e)),n=t.map((e=>e.toString(16).padStart(2,"0"))).join("");return n}))},platform(){const e=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":"web"},testFilter(e){const t={};return e.os&&e.os.name&&(t.os={name:e.os.name}),t}}))(),_={name:"Link",data(){return{schema:"demo://test-link/",linkContent:"",localUrl:""}},created(){const e=new URL(window.location.href);this.localUrl=`${e.protocol}//${e.host}/#/link/`,this.linkContent=`${window.location.href}`.replace(this.localUrl,""),this.linkContent&&(window.onload=()=>{this.toAppLink()})},methods:{toAppLink(){let e="",t=2e3;A.platform();"ios"===this.platform?(e="https://apps.apple.com/tw/app/國泰人壽/id432046643",t*=2):"android"===this.platform&&(e="https://play.google.com/store/apps/details?id=com.cathay.main&hl=zh_TW&gl=US"),window.location=`${this.schema}${this.linkContent}`,e&&setTimeout((function(){window.location=e}),t)}}},C=_,L=(0,l.Z)(C,u,h,!1,null,"52de8bc2",null),S=L.exports,O=function(){var e=this,t=e._self._c;return t("div",[e.message?t("span",[e._v(e._s(e.message))]):e._e()])},x=[],F={name:"Access",data(){return{platform:"",linkContent:"",message:""}},created(){this.platform=A.platform()},mounted(){let e={},t="";A.get().then((t=>(e=A.testFilter(t),A.toSHA256(e)))).then((e=>{t=e,this.message=t;const n=this.mockDbQuery(this.message);this.toAppScript(n)}))},methods:{toAppScript(e){"ios"===this.platform&&window.webkit&&window.webkit.messageHandler.getAppLink.postMessage(e),"android"===this.platform&&window.Android&&window.Android.getAppLink(e)},mockDbQuery(e){const t={"3e23e182f6610757be5a6fdb81ed150362a573f13ca3a22c79f19ac50b3ae3c2":"/pageA","1b1bbc2aa37f17be15edbe657b3657b0f9912cec509ac922a3ddeeb1445d8ef4":"/pageB"};return t[e]||""}}},P=F,Z=(0,l.Z)(P,O,x,!1,null,null,null),T=Z.exports,j=function(){var e=this,t=e._self._c;return t("div",[e.message?t("span",[e._v(e._s(e.message))]):e._e()])},z=[],$={name:"Agent",data(){return{platform:"",linkContent:"",message:""}},created(){this.platform=A.platform()},mounted(){let e={},t="";A.get().then((t=>(e=A.testFilter(t),A.toSHA256(e)))).then((n=>{t=n,this.message=JSON.stringify({agent:e,hash:t}),this.toAppScript(this.message)}))},methods:{toAppScript(e){const t=e||"EMPTY";"ios"===this.platform&&window.webkit&&window.webkit.messageHandler.getAppLink.postMessage(t),"android"===this.platform&&window.Android&&window.Android.getAppLink(t)}}},H=$,U=(0,l.Z)(H,j,z,!1,null,null,null),B=U.exports,D=function(){var e=this,t=e._self._c;return t("div",[e.display?t("div",[e._v(e._s(e.display))]):e._e()])},R=[],E={name:"Fingerprint",data(){return{fpid:"",fpc:[],display:""}},created(){},mounted(){window.requestIdleCallback?requestIdleCallback((()=>{this.doPrompt()})):setTimeout((()=>{this.doPrompt()}),500)},methods:{doPrompt(){Fingerprint2.get((e=>{this.fpc=e.filter((e=>!["canvas","webgl"].some((t=>t===e.key))));const t=this.filterFpc.map((e=>e.value));this.fpid=Fingerprint2.x64hash128(t.join(""),31),this.showHash(),this.toAppScript(JSON.stringify(this.fpid))}))},toAppScript(e){const t=A.platform();"ios"===t&&window.webkit&&window.webkit.messageHandler.getAppLink.postMessage(e),"android"===t&&window.Android&&window.Android.getAppLink(e)},showHash(){this.display=this.fpid},showAll(){this.display=JSON.stringify(this.fpc)},showFilter(){this.display=JSON.stringify(this.filterFpc)},mapping(e,t){const n=[];return e.forEach((e=>{const i=t.find((t=>t.key===e.key));i&&i.value===e.value&&n.push(e)})),n}},computed:{filterFpc(){const e=this.allFilter;return this.fpc.filter((t=>e.some((e=>e===t.key))))},iosFilter(){return["webdriver","language","hardwareConcurrency","timezoneOffset","timezone","sessionStorage","localStorage","indexedDb","addBehavior","cpuClass","platform","hasLiedLanguages","hasLiedResolution","hasLiedOs","hasLiedBrowser"]},androidFilter(){return["webdriver","colorDepth","hardwareConcurrency","timezoneOffset","timezone","sessionStorage","indexedDb","addBehavior","cpuClass","hasLiedLanguages","hasLiedResolution","hasLiedOs","hasLiedBrowser"]},allFilter(){return["webdriver","hardwareConcurrency","timezoneOffset","timezone","sessionStorage","indexedDb","addBehavior","cpuClass","hasLiedLanguages","hasLiedResolution","hasLiedOs","hasLiedBrowser"]}}},J=E,M=(0,l.Z)(J,D,R,!1,null,"9d6ebf3a",null),N=M.exports,q=[{path:"/"},{path:"/link/:param(.*)",name:"Param",component:S},{path:"/access",name:"Access",component:T},{path:"/agent",name:"Agent",component:B},{path:"/fingerprint",name:"Fingerprint",component:N}];i.ZP.prototype.$setCookie=function(e,t){const n=new Date;n.setTime(n.getTime()+864e5);let i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},i.ZP.prototype.$getCookie=function(e){let t=e+"=",n=decodeURIComponent(document.cookie),i=n.split(";");for(let o=0;o<i.length;o++){let e=i[o];while(" "==e.charAt(0))e=e.substring(1);if(0==e.indexOf(t))return e.substring(t.length,e.length)}return""},i.ZP.config.productionTip=!1;const I=new d.ZP({mode:"hash",routes:q});i.ZP.use(d.ZP),new i.ZP({router:I,render:e=>e(p)}).$mount("#app")}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,i,o,r){if(!i){var s=1/0;for(p=0;p<e.length;p++){i=e[p][0],o=e[p][1],r=e[p][2];for(var a=!0,l=0;l<i.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(a=!1,r<s&&(s=r));if(a){e.splice(p--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[i,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,r,s=i[0],a=i[1],l=i[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)var p=l(n)}for(t&&t(i);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(p)},i=self["webpackChunkapp_link"]=self["webpackChunkapp_link"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6729)}));i=n.O(i)})();
//# sourceMappingURL=app.575acb1b.js.map